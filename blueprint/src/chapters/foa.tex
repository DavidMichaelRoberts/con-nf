\section{Base approximations}
\begin{definition}[base approximation]
  \label{def:BaseApprox}
  \uses{def:NearLitter}
  A \emph{base approximation} is a pair \( \psi = (\psi^{E\Atom}, \psi^\Litter) \) such that \( \psi^{E\Atom} \) and \( \psi^\Litter \) are permutative relations of atoms and litters respectively (\cref{def:relation_props}), and for each litter \( L \), the sets
  \[ \LS(L) \cap \coim \psi^{E\Atom};\quad \LS(L) \cap \im \psi^{E\Atom} \]
  are small.
  The relation \( \psi^{E\Atom} \) is called the \emph{exceptional atom graph}, and \( \psi^\Litter \) is called the \emph{litter graph}.
  We make the following definitions.
  \begin{itemize}
    \item The \emph{inverse} of a base approximation is \( \psi^{-1} = ((\psi^{E\Atom})^{-1}, (\psi^\Litter)^{-1}) \).
    \item If \( \psi \) and \( \chi \) are base approximations where \( \coim \psi^{E\Atom} = \coim \chi^{E\Atom} \) and \( \coim \psi^\Litter = \coim \chi^\Litter \), then their \emph{composition} \( \psi \circ \chi \) is the base approximation \( (\psi^{E\Atom} \circ \chi^{E\Atom}, \psi^\Litter \circ \chi^\Litter) \).
    \item The \emph{\( \psi \)-sublitter} of a litter \( L \), written \( L_\psi \), is the near-litter \( (L, \LS(L) \setminus \coim \psi^{E\Atom}) \).
  \end{itemize}
\end{definition}
\begin{definition}[atom graph of an approximation]
  The \emph{typical atom graph} of \( \psi \) is the relation \( \psi^{T\Atom} \) given by the following constructor.
  If \( (L_1, L_2) \in \psi^\Litter \), then
  \[ (h_{(L_1)_\psi}(i), h_{(L_2)_\psi}(i)) \in \psi^{T\Atom} \]
  for some \( i : \kappa \), where for any near-litter \( N \), \( h_N \) is an equivalence \( \kappa \simeq N \) chosen in advance.

  The \emph{atom graph} of \( \psi \) is the relation \( \psi^\Atom = \psi^{E\Atom} \sqcup \psi^{T\Atom} \): the join of the exceptional and typical atom graphs.
\end{definition}
\begin{proposition}
  \label{prop:atom_graph_inverse}
  \( (\psi^{T\Atom})^{-1} = (\psi^{-1})^{T\Atom} \) and hence \( (\psi^\Atom)^{-1} = (\psi^{-1})^\Atom \).
\end{proposition}
\begin{proof}
  This follows directly from the fact that \( L_\psi = L_{\psi^{-1}} \) for any litter \( L \).
\end{proof}
\begin{proposition}
  The graphs \( \psi^{T\Atom} \) and \( \psi^\Atom \) are permutative.
\end{proposition}
\begin{proof}
  The typical atom graph is injective, because the equation \( h_{L_\psi}(i)^\circ = L \) can be used to establish the the parameters of the relevant \( h \) maps coincide.
  Furthermore, we can use the fact that \( \psi^\Litter \) has equal image and coimage to produce images of any image element of this relation.
  We then appeal to symmetry using \cref{prop:atom_graph_inverse} to conclude that \( \psi^{T\Atom} \) is permutative.

  The (co)image of \( \psi^{T\Atom} \) is
  \[ \bigcup_{L \in \coim \psi^\Litter} L_\psi = \bigcup_{L \in \coim \psi^\Litter} (\LS(L) \setminus \coim \psi^{E\Atom}) \]
  which is clearly disjoint from the coimage of \( \psi^{E\Atom} \).\footnote{This result should of course be its own lemma.}
  So \( \psi^\Atom \) is permutative by one of the results of \cref{prop:relation_results}.
\end{proof}
\begin{proposition}
  If \( \psi, \chi \) have equal exceptional atom and litter coimages, then \( (\psi \circ \chi)^{T\Atom} = \psi^{T\Atom} \circ \chi^{T\Atom} \).
\end{proposition}
\begin{proof}
  Suppose that \( (a_1, a_3) \in (\psi \circ \chi)^{T\Atom} \), so
  \[ a_1 = h_{(L_1)_{\psi \circ \chi}}(i);\quad a_3 = h_{(L_3)_{\psi \circ \chi}}(i);\quad (L_1, L_3) \in (\psi \circ \chi)^\Litter \]
  Since \( (\psi \circ \chi)^\Litter = \psi^\Litter \circ \chi^\Litter \), there is \( L_2 \) such that \( (L_1, L_2) \in \chi^\Litter \) and \( (L_2, L_3) \in \psi^\Litter \).
  Hence
  \[ (h_{(L_1)_\chi}(i), h_{(L_2)_\chi}(i)) \in \chi^{T\Atom};\quad (h_{(L_2)_\psi}(i), h_{(L_3)_\psi}(i)) \in \psi^{T\Atom} \]
  But \( L_{\psi \circ \chi} = L_\psi = L_\chi \), so we obtain
  \[ (a_1, h_{(L_2)_\chi}(i)) \in \chi^{T\Atom};\quad (h_{(L_2)_\chi}(i), a_3) \in \psi^{T\Atom} \]
  For the converse, suppose that \( (a_1, a_2) \in \chi^{T\Atom} \) and \( (a_2, a_3) \in \psi^{T\Atom} \).
  Then
  \[ a_1 = h_{(L_1)_\chi}(i);\quad a_2 = h_{(L_2)_\chi}(i);\quad a_2 = h_{(L_2')_\psi}(j);\quad a_3 = h_{(L_3)_\psi}(j) \]
  We obtain \( L_2 = L_2' \), and \( (L_2)_\chi = (L_2)_\psi \) so we also conclude \( i = j \).
  Since \( (L_1, L_2) \in \chi^\Litter \) and \( (L_2, L_3) \in \psi^\Litter \), we conclude \( (L_1, L_3) \in (\psi \circ \chi)^\Litter \), as required.
\end{proof}
\begin{definition}[near-litter graph of an approximation]
  The \emph{near-litter graph} of \( \psi \) is the relation \( \psi^\NearLitter \) given by setting \( (N_1, N_2) \in \psi^\NearLitter \) if and only if \( (N_1^\circ, N_2^\circ) \in \psi^\Litter \), \( N_1 \) and \( N_2 \) are subsets of \( \coim \psi^\Atom \), and the image of \( \psi^\Atom \) on \( N_1 \) is \( N_2 \) (or equivalently, by \cref{prop:relation_results}, the coimage of \( \psi^\Atom \) on \( N_2 \) is \( N_1 \)).
\end{definition}
\begin{proposition}
  \label{prop:approx_near}
  Let \( s \) be a set of atoms near \( \LS(L) \) for some litter \( L \).
  If \( s \subseteq \coim \psi^\Atom \) and \( (L, L') \in \psi^\Litter \), then the image of \( \psi^\Atom \) on \( s \) is near \( \LS(L') \).
\end{proposition}
\begin{proof}
  We calculate
  \begin{align*}
    \im \psi^\Atom|_s
    &= \im \psi^\Atom|_{\LS(L)} \symmdiff \im \psi^\Atom|_{s \symmdiff \LS(L)} \\
    &\near \im \psi^\Atom|_{\LS(L)} \\
    &= \im \psi^\Atom|_{\LS(L) \setminus \coim \psi^{E\Atom}} \cup \im \psi^\Atom|_{\LS(L) \cap \coim \psi^{E\Atom}} \\
    &\near \im \psi^\Atom|_{\LS(L) \setminus \coim \psi^{E\Atom}} \\
    &= \im \psi^{T\Atom}|_{L_\psi} \\
    &= L'_\psi \\
    &\near \LS(L')
  \end{align*}
  Many of these equalities should be their own lemmas.
\end{proof}
\begin{proposition}
  \( (\psi^{-1})^\NearLitter = (\psi^\NearLitter)^{-1} \), and \( \psi^\NearLitter \) is permutative.
\end{proposition}
\begin{proof}
  The first part follows from \cref{prop:atom_graph_inverse}.
  To show \( \psi^\NearLitter \) is permutative, it suffices to show that it is injective and that its image is contained in its coimage; then, by taking inverses, the converses will also hold.
  Suppose that \( (N_1, N_3), (N_2, N_3) \in \psi^\NearLitter \).
  Then the coimage of \( \psi^\Atom \) on \( N_3 \) is equal to both \( N_1 \) and \( N_2 \), so \( N_1 = N_2 \), giving injectivity.

  Now suppose that \( (N_1, N_2) \in \psi^\NearLitter \).
  As \( (N_1^\circ, N_2^\circ) \in \psi^\Litter \), we must have \( (N_2^\circ, L) \in \psi^\Litter \) for some \( L \).
  By \cref{prop:approx_near}, the image \( s \) of \( \psi^\Atom \) on \( N_2 \) is near \( \LS(L) \), so \( (L, s) \) is a near-litter, and \( (N_2, (L, s)) \in \psi^\NearLitter \) as required.
\end{proof}
\begin{definition}
  Base approximations act on base supports in the following way.
  If \( S^\Atom = (i, f) \), then \( \psi(S)^\Atom = (i, f') \) where
  \[ f' = \{ (j, a_2) \mid (j, a_1) \in f \wedge (a_1, a_2) \in \psi^\Atom \} \]
  The same definition is used for near-litters.
\end{definition}

\section{Extensions of approximations}
\begin{definition}
  We define a partial order on base approximations by setting \( \psi \leq \chi \) when \( \psi^{E\Atom} = \chi^{E\Atom} \) and \( \psi^\Litter \leq \chi^\Litter \).
\end{definition}
\begin{proposition}[adding orbits]
  \label{prop:adding_orbits}
  Let \( \psi \) be a base approximation, and let \( L : \mathbb N \to \Litter \) be a function such that
  \[ L(m) = L(n) \to L(m+k) = L(n+k) \]
  for all integers \( m, n, k : \mathbb Z \).
  Suppose that for all \( n \), \( L(n) \notin \coim \psi^\Litter \).
  Then there is an extension \( \chi \geq \psi \) such that \( \chi^\Litter(L(n)) = L(n+1) \) and \( \coim \chi^\Litter = \coim \psi^\Litter \cup \im L \).
\end{proposition}
\begin{proof}
  Define the relation
  \[ R = \{ (L(n), L(n+1)) \mid n : \mathbb Z \} \]
  This clearly has equal image and coimage.
  It is injective: if \( (L_1, L_3), (L_2, L_3) \in R \), then there are \( m, n : \mathbb Z \) such that
  \[ L_1 = L(m);\quad L_3 = L(m + 1);\quad L_2 = L(n);\quad L_3 = L(n + 1) \]
  So \( L(m + 1) = L(n + 1) \), giving \( L_1 = L(m) = L(n) = L_2 \) by substituting \( k = -1 \) in the hypothesis.
  It is also coinjective by substituting \( k = 1 \) in the hypothesis.
  So \( R \) is permutative.
  Therefore, \( \psi^\Litter \sqcup R \) is a permutative relation, so \( (\psi^\Atom, \psi^\Litter \sqcup R) \) is an extension of \( \psi \), and it clearly satisfies the result.
\end{proof}

\section{Structural approximations}
\begin{definition}
  For a type index \( \beta \), a \emph{\( \beta \)-approximation} is a \( \beta \)-tree of base approximations.
  We define an action of \( \beta \)-approximations \( \psi \) on \( \beta \)-supports \( S \) by \( (\psi(S))_A = \psi_A(S_A) \).
\end{definition}
\begin{definition}
  Let \( A \) be a \( \beta \)-extended type index.
  A litter \( L \) is \emph{\( A \)-inflexible} if there is an inflexible \( \beta \)-path \( I \) such that \( A = ((A_I)_{\varepsilon_I})_\bot \) and \( L = f_{\delta_I, \varepsilon_I}(t) \) for some \( t : \Tang_{\delta_I} \).
  The coderivative operation works in the obvious way.
  A litter can be \( A \)-inflexible in at most one way.\footnote{We should make \( A \)-inflexibility into a subsingleton structure.}

  We say that a \( L \) is \emph{\( A \)-flexible} if it is not \( A \)-inflexible.\footnote{This is not data, but a proposition.}
  If \( L \) is \( B_A \)-flexible, then \( L \) is \( A \)-flexible.
\end{definition}
\begin{definition}
  A \( \beta \)-approximation \( \psi \) is \emph{coherent} at \( (A, L_1, L_2) \) if:
  \begin{itemize}
    \item If \( L_1 \) is \( A \)-inflexible with inflexible \( \beta \)-path \( I = (\gamma, \delta, \varepsilon, B) \) and tangle \( t : \Tang_\delta \), then there is some \( \delta \)-allowable permutation \( \pi \) such that
    \[ (\psi_B)_\delta(\supp(t)) = \pi(\supp(t)) \]
    and
    \[ L_2 = f_{\delta,\varepsilon}(\pi(t)) \]
    (and hence all \( \delta \)-allowable permutations \( \pi \) such that \( (\psi_B)_\delta(\supp(t)) = \pi(\supp(t)) \) satisfy \( L_2 = f_{\delta,\varepsilon}(\pi(t)) \)).
    \item If \( L_1 \) is \( A \)-flexible, then \( L_2 \) is \( A \)-flexible.
  \end{itemize}
  We say that \( \psi \) is \emph{coherent} if whenever \( (L_1, L_2) \in \psi_A^\Litter \), \( \psi \) is coherent at \( (A, L_1, L_2) \).
\end{definition}
\begin{proposition}[adding orbits coherently]
  \label{prop:adding_orbits_coherently}
  Suppose that \( \psi \) is an approximation and \( L : \mathbb Z \to \Litter \) is a function satisfying the hypotheses of \cref{prop:adding_orbits}.
  Let \( \chi \) be the extension produced by the structural version of this result.\footnote{We need the extension exactly as produced (as data), not an arbitrary extension satisfying the conclusion of the proposition.}
  If \( \psi \) is coherent, and is additionally coherent at \( (L(n), L(n+1)) \) for each integer \( n \), then \( \chi \) is coherent.
\end{proposition}
\begin{proof}
  This proof just relies on the fact that if \( (\psi_B)_\delta(\supp(t)) = \pi(\supp(t)) \), then the same holds for every extension \( \chi \) of \( \psi \).\footnote{Maybe there's a better lemma to abstract out this idea for this and \cref{prop:approx_chain}}
\end{proof}
\begin{proposition}
  \label{prop:inv_coherent}
  If \( \psi \) is coherent, then \( \psi^{-1} \) is coherent.
\end{proposition}
\begin{proof}
  Suppose that \( (L_1, L_2) \in (\psi^{-1}_A)^\Litter \), so \( (L_2, L_1) \in \psi_A^\Litter \).
  Suppose first that \( L_1 \) is \( A \)-inflexible with inflexible \( \beta \)-path \( I = (\gamma, \delta, \varepsilon, B) \) and tangle \( t : \Tang_\delta \).
  If \( L_2 \) were \( A \)-flexible, then \( L_1 \) would also be \( A \)-flexible by coherence, which is a contradiction.
  So \( L_2 \) is \( A \)-inflexible with path \( (\gamma', \delta', \varepsilon', B') \) and tangle \( t' : \Tang_{\delta'} \), and there is \( \pi : \AllPerm_{\delta'} \) such that
  \[ (\psi_{B'})_{\delta'}(\supp(t')) = \pi(\supp(t')) \]
  and
  \[ A = (B_{\varepsilon'})_\bot;\quad L_2 = f_{\delta',\varepsilon'}(t');\quad L_1 = f_{\delta',\varepsilon'}(\pi(t')) \]
  We thus deduce \( \varepsilon = \varepsilon' \) and \( \gamma = \gamma' \) by the equations for \( A \).
  By the equation \( L_1 = f_{\delta,\varepsilon}(t) \), we also obtain \( \delta = \delta' \) and \( t = \pi(t') \).
  Then we find
  \begin{align*}
    (\psi_B)_\delta(\supp(\pi^{-1}(t))) &= \pi(\supp(\pi^{-1}(t))) \\
    (\psi_B)_\delta(\pi^{-1}(\supp(t))) &= \pi(\pi^{-1}(\supp(t))) \\
    (\psi_B)_\delta(\pi^{-1}(\supp(t))) &= \supp(t) \\
    \pi^{-1}(\supp(t)) &= (\psi^{-1}_B)_\delta(\supp(t))
  \end{align*}
  where the last equation uses the fact that \( (\psi_B)_\delta \) is defined on all of \( \supp(t') \).
  Finally, the equation \( L_2 = f_{\delta,\varepsilon}(\pi^{-1}(t)) \) gives coherence at \( (A, L_1, L_2) \) as required.

  Now suppose that \( L_1 \) is \( A \)-flexible.
  If \( L_2 \) were \( A \)-inflexible, then so would be \( L_1 \) by coherence.
  So \( L_2 \) is \( A \)-flexible, as required.
\end{proof}
\begin{proposition}
  If \( \psi \) and \( \chi \) are coherent and have equal coimages along all paths, then \( \psi \circ \chi \) is coherent.
\end{proposition}
\begin{proof}
  Suppose that \( (L_1, L_3) \in ((\psi \circ \chi)_A)^\Litter \), so \( (L_1, L_2) \in \psi_A^\Litter \) and \( (L_2, L_3) \in \chi_A^\Litter \).
  Suppose that \( L_1 \) is \( A \)-inflexible with inflexible \( \beta \)-path \( I = (\gamma, \delta, \varepsilon, B) \) and tangle \( t : \Tang_\delta \).
  Then by coherence of \( \psi \), we have \( \pi \) such that
  \[ (\psi_B)_\delta(\supp(t)) = \pi(\supp(t)) \]
  and
  \[ L_2 = f_{\delta,\varepsilon}(\pi(t)) \]
  Then \( L_2 \) is \( A \)-inflexible with path \( I \) and tangle \( \pi(t) \).
  So by coherence of \( \chi \), we have \( \pi' \) such that
  \[ (\psi_B)_\delta(\supp(\pi(t))) = \pi'(\supp(\pi(t))) \]
  and
  \[ L_3 = f_{\delta,\varepsilon}(\pi'(\pi(t))) \]
  As \( \pi'(\supp(\pi(t))) = \pi'(\pi(\supp(t))) \), we obtain the desired coherence result.

  Instead, if \( L_1 \) is \( A \)-flexible, then so is \( L_2 \) by coherence of \( \psi \), and so is \( L_3 \) by coherence of \( \chi \).
\end{proof}
\begin{proposition}
  If \( \psi \) is a coherent \( \beta \)-approximation and \( A \) is a path \( \beta \tpath \beta' \), then \( \psi_A \) is a coherent \( \beta' \)-approximation.
\end{proposition}
\begin{proof}
  Let \( (L_1, L_2) \in (\psi_A)_B^\Litter \).
  Suppose that \( L_1 \) is \( B \)-inflexible with path \( (\gamma, \delta, \varepsilon, C) \) and \( t : \Tang_\delta \).
  Then \( L_1 \) is \( A_B \)-inflexible with path \( (\gamma, \delta, \varepsilon, A_C) \) and the same tangle \( t \).
  So by coherence of \( \psi \), we obtain a \( \delta \)-allowable \( \pi \) such that
  \[ (\psi_{(A_C)})_\delta(\supp(t)) = \pi(\supp(t)) \]
  and
  \[ L_2 = f_{\delta,\varepsilon}(\pi(t)) \]
  This same \( \pi \) can thus be used to establish coherence of \( \psi_A \) at \( (B, L_1, L_2) \).

  Thus, by \cref{prop:inv_coherent}, whenever \( L_2 \) is \( B \)-inflexible with path \( I \) and tangle \( t \), \( L_1 \) is also \( B \)-inflexible with path \( I \).
  So if \( L_1 \) is \( B \)-flexible, so is \( L_2 \), as required.
\end{proof}

\section{Proving freedom of action}
\begin{definition}[approximates]
  We say that a \( \beta \)-approximation \( \psi \) \emph{approximates} a \( \beta \)-allowable permutation \( \pi \) if \( \psi_A^\Litter \leq \pi_A^\Litter \) and \( \psi_A^\Atom \leq \pi_A^\Atom \) for each path \( A : \beta \tpath \bot \).
  If \( \psi \) approximates \( \pi \) then \( \psi^n \) approximates \( \pi^n \) for each \( n : \mathbb Z \).
\end{definition}
\begin{definition}[freedom of action]
  We say that \emph{freedom of action} holds at a type index \( \delta \) if every coherent \( \delta \)-approximation approximates some \( \delta \)-allowable permutation.
\end{definition}
\begin{proposition}[adding flexible litters]
  \label{prop:add_flexible_litter}
  Let \( \psi \) be a coherent \( \beta \)-approximation, and let \( L \) be \( A \)-flexible.
  Then there is a coherent extension \( \chi \geq \psi \) with \( L \in \coim \chi_A^\Litter \).
\end{proposition}
\begin{proof}
  Define \( L' : \mathbb Z \to \Litter \) by \( L'(n) = L \), then appeal to \cref{prop:adding_orbits_coherently} to obtain \( \chi \geq \psi \).
  All we must do is check that \( \psi \) is coherent at \( (L, L) \), which is trivial.
\end{proof}
\begin{proposition}[adding inflexible litters]
  \label{prop:add_inflexible_litter}
  Let \( \psi \) be a coherent \( \beta \)-approximation, and let \( L \) be \( A \)-inflexible with path \( (\gamma, \delta, \varepsilon, B) \) and tangle \( t : \Tang_\delta \).
  Suppose that \( (\psi_B)_\delta \) is defined on all of \( \supp(t) \).\footnote{This is a nontrivial definition to make.}
  Suppose that freedom of action holds at level \( \delta \).
  Then there is a coherent extension \( \chi \geq \psi \) with \( L \in \coim \chi_A^\Litter \).
\end{proposition}
\begin{proof}
  Let \( \pi \) be a \( \delta \)-allowable permutation that \( (\psi_B)_\delta \) approximates.
  Then for each \( n : \mathbb Z \), as \( (\psi^n_B)_\delta \) approximates \( \pi^n \), we obtain \( (\psi^n_B)_\delta(\supp(t)) = \pi^n(\supp(t)) \) as \( (\psi^n_B)_\delta \) is defined on all of \( \supp(t) \).\footnote{This should of course be its own lemma.}
  Define \( L : \mathbb Z \to \Litter \) by \( L(n) = f_{\delta,\varepsilon}(\pi^n(t)) \).

  Suppose that there is some \( n \) such that \( L(n) \in \coim \psi^\Litter \).
  Note that
  \begin{align*}
    (\psi^n_B)_\delta(\supp(t)) &= \pi^n(\supp(t)) \\
    \supp(t) &= (\psi^{-n}_B)_\delta(\pi^n(\supp(t))) \\
    \pi^{-n}(\pi^n(\supp(t))) &= (\psi^{-n}_B)_\delta(\supp(\pi^n(t)))
  \end{align*}
  So as \( \psi^{-n} \) is coherent, we obtain \( (L(n), f_{\delta,\varepsilon}(t)) \in (\psi^{-n}_A)^\Litter \).
  In particular, \( f_{\delta,\varepsilon}(t) \in \coim \psi_A^\Litter \) already, and no work needs to be done.

  We first check the hypothesis of \cref{prop:adding_orbits} for adding orbits.
  If \( f_{\delta,\varepsilon}(\pi^m(t)) = f_{\delta,\varepsilon}(\pi^n(t)) \), then \( \pi^m(t) = \pi^n(t) \), so \( \pi^{m+k}(t) = \pi^{n+k}(t) \), giving \( f_{\delta,\varepsilon}(\pi^{m+k}(t)) = f_{\delta,\varepsilon}(\pi^{n+k}(t)) \) as required.

  We now check the criterion of \cref{prop:adding_orbits_coherently} for adding orbits coherently.
  It suffices to show that \( \psi \) is coherent at \( (L(n), L(n+1)) \) for each \( n : \mathbb Z \).
  This is witnessed by \( \pi \), which satisfies
  \[ (\psi_B)_\delta(\supp(\pi^n(t))) = \pi(\supp(\pi^n(t))) \]
  and
  \[ L(n) = f_{\delta,\varepsilon}(\pi^n(t));\quad L(n+1) = f_{\delta,\varepsilon}(\pi(\pi^n(t))) \]
  as required.\footnote{It might be helpful to abstract away the lemma \( (\psi^m_B)_\delta(\supp(\pi^n(t))) = \supp(\pi^{n+m}(t)) \) for the two places in the proof where this idea is used.}
\end{proof}
\begin{proposition}
  \label{prop:approx_chain}
  If \( (\psi_i)_{i : I} \) is a chain of coherent approximations where \( I \) is a linear order, then the supremum \( \psi \) is coherent.
\end{proposition}
\begin{proof}
  Direct, using the same idea as the proof of \cref{prop:adding_orbits_coherently}.
\end{proof}
\begin{theorem}[freedom of action]
  \label{thm:foa}
  Freedom of action holds at all type indices \( \beta \leq \alpha \).
\end{theorem}
\begin{proof}
  By induction, we may assume freedom of action holds at all \( \delta < \beta \).
  Let \( \psi \) be a coherent \( \beta \)-approximation, and let \( \chi \) be a maximal coherent extension, which exists by Zorn's lemma and \cref{prop:approx_chain}.

  Suppose that there is a litter \( L \) such that there exists a path \( A \) where \( L \notin \coim \chi_A^\Litter \).
  Let \( L \) have minimal position with this property, and let \( A \) be such a path.

  Suppose that \( L \) is \( A \)-flexible.
  Then by \cref{prop:add_flexible_litter}, there is an extension \( \varphi \) of \( \chi \) such that \( L \in \coim \varphi_A^\Litter \), contradicting maximality of \( \chi \).

  Suppose that \( L \) is \( A \)-inflexible, with path \( (\gamma,\delta,\varepsilon,B) \) and tangle \( t \).
  Then \( (\psi_B)_\delta \) is defined on all of \( \supp(t) \).
  Indeed, by \cref{def:CoherentData} (coherent data) and \cref{prop:fuzz} (fuzz maps), for each atom or near-litter \( y \) that appears in the range of \( \supp(t)_C \), we have \( \iota(y) < \iota(t) < \iota(L) \), giving the desired conclusion by minimality of the position of \( L \).
  Thus, we obtain the same contradiction by \cref{prop:add_inflexible_litter}.

  So \( \coim \chi_A^\Litter \) is the set of all litters for each path \( A \).
  We then use the fact that our model data is coherent to recursively compute the allowable permutation \( \pi \) with the same action as \( \chi \).
  Then \( \chi \) approximates \( \pi \), so \( \psi \) also approximates \( \pi \).\footnote{In general, if \( \psi \leq \chi \) and \( \chi \) approximates \( \pi \) then \( \psi \) approximates \( \pi \).}
\end{proof}
